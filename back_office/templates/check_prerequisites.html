{% extends "base.html" %}

{% block content %}
  <h1>Mise en production</h1>
  <p class="lead">Connexion au serveur PostgreSQL</p>
  {% if error %}
    <div class="alert alert-danger" role="alert">
        {% for message in error %}
            {% if loop.first %}
                <p class="first">{{ message }}</p>
            {% elif loop.index == 2 %}
                <p class="second">{{ message }}</p><ul>
            {% elif loop.last %}
                <li class="last"><a href="https://github.com/Christophe-Aballea/goldenline/blob/main/templates/help/db_connection.md" target="_blank">Résoudre les problèmes de connexion <i class="fas fa-external-link-alt"></i></a></li>
            {% else %}
                <li class="other">{{ message }}</li>
            {% endif %}
        {% endfor %}
        </ul>       
    </div>
  {% endif %}
  <div class="actions">
    <form action="/back-office/check-prerequisites" method="post">
        <div class="form-group">
        <label for="host">Host</label>
        <input type="text" class="form-control" id="host" name="host" autofocus required>
        </div>
        <div class="form-group">
        <label for="port">Port</label>
        <input type="text" class="form-control" id="port" name="port" required>
        </div>
        <div class="form-group">
            <label for="user">DBA user</label>
            <input type="text" class="form-control" id="user" name="user" required>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control" id="password" name="password" required>
        </div>
        <div class="form-group action-buttons">
            <button type="submit" class="btn btn-primary">Suivant ></button>
        </div>
    </form>
  </div>
{% endblock %}
